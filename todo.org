* Path integrals
** Force fields
*** TODO [#C] Nonbonded list optimization
The current algorithm leads to a quadratic complexity as a function of
bead number. The pair weights for the exclusion and 1-4 lists can be
precomputed.

*** DONE Check that the bead numbers of all atoms in the universe are consistent

*** TODO [#C] Merge path integral setup in EnergyEvaluator and EnergyEvaluatorParameters

*** DONE [#A] Fix reciprocal sums in Ewald summation
The reciprocal sum must be calculated once for each time slice, using
only the beads whose bead numbers fit the time slice. The self term
must also be fixed to sum over the atoms (not beads) and multiply with
the number of time slices

*** DONE Check that subsets are treated correctly

*** DONE Make angle and dihedral restraint terms path-integral compatible
** ParticleProperty

*** TODO [#B] Indexing with a multi-bead atom
Idea: define intensive and extensive quantities, with intensive ones returning the
average over the beads and extensive ones the sum. This could also be extended to
allow indexing of ParticleProperties with multi-atom objects (though the weights for
calculating averages are not obvious).

** Trajectories
*** DONE Reading a ParticleTrajectory for a bead

*** TODO [#B] Reading a ParticleTrajectory for a multi-bead atom
Same problem as for ParticleProperties.

** Integration
*** TODO Integrators
**** DONE Velocity-Verlet integrator using normal mode variables
**** DONE Fix normal mode coordinates with PBC
**** DONE Colored-noise Langevin version of this integrator
**** TODO Nose-Hoover-Chain version of this integrator
**** TODO Add a barostat

*** TODO Constraints
**** TODO Subspace constraints
**** TODO Distance constraints
**** TODO Rigid-body integrator (quaternions)

** TODO Estimator for kinetic energy
see paper by Ceriotti et al.
** Tests
*** TODO Coordinate manipulation (methods in Collections.GroupOfAtoms)
 - [X] translation
 - [X] rotation
 - [ ] center of mass
 - [ ] moment of inertia
 - [ ] bounding box
 - [ ] bounding sphere
 - [ ] rms difference
 - [ ] findTransformation
 - [ ] kineticEnergy
 - [ ] temperature
 - [ ] momentum
 - [ ] angularMomentum
 - [ ] angularVelocity
 - [ ] booleanMask
*** DONE Energy evaluation
*** DONE Trajectories
*** TODO ParticleProperties
*** TODO Subspace.PairDistanceSubspace
** I/O
*** DONE [#A] PDB output
Currently: centroids
Add new file type(s) for representing all the beads:
 - 'pdb.pi_altloc' altloc (max. 26 beads)
 - 'pdb.pi_model' model

* New features
** TODO [#C] Make energy gradients available for subsets of the total force field

* Improvements
** DONE [#A] Alert for data base conflicts
At every database access, check if there are multiple definitions in
different directories of the search path and alert the user of the
possible conflict.

** TODO Force fields in trajectories
Add mod_file=... to the force field description in a trajectory file. If upon opening of the trajectory the mod_files exist, use them, otherwise don't raise an exception.
** TODO Documentation in Spinx
** TODO Check for undefined positions before integration, normal mode analysis etc.
* Bugs
** TODO [#C] Opening a trajectory written for a universe created from a MoleculeFactory doesn't work.

** TODO Trajectory test fails for ParallelepipedicPeriodicUniverse in readParticleTrajectory
** TODO GroupOfAtoms.angularVelocity can't do an inverse on a singular matrix
needs pseudoinverse instead of regular inverse

** TODO Method phiAngle() doesn't work for proline
* Long-term evolution
** Move to Python 3
** Trajectory format migration to HDF5
